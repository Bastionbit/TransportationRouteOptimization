@model ElGatoMensajero.Models.tipo_empleados

@{
    ViewBag.Title = "Tipo de Empleado " + Model.descripcion;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-4 col-xs-12">
        <section id="profile-info">
            <div class="box box-info">
                <div class="box-header with-border">
                    <h3 class="box-title">Tipo de Empleado</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                        <button type="button" class="btn btn-box-tool" data-widget="remove">
                            <i class="fa fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="avatar"><i class="fa fa-users fa-6x"></i></div>
                    <h2>@Html.DisplayFor(model => model.descripcion)</h2>
                    <dl class="data-table">
                        <dt>Salario:</dt>
                        <dd>@Html.DisplayFor(model => model.salario)</dd>
                    </dl>
                </div>
                <div class="box-footer">
                    <a class="btn btn-primary pull-right" href="@Url.Action("Edit", "TipoEmpleados", new { id = Model.tipo })"><i class="fa fa-edit"></i> Editar Tipo</a>
                </div>
            </div>
        </section>
    </div>
    <div class="col-md-8 col-xs-12">
        <section id="employeds-info">
            <div class="box box-info">
                <div class="box-header with-border">
                    <h3 class="box-title">Empleados</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                        <button type="button" class="btn btn-box-tool" data-widget="remove">
                            <i class="fa fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                    <th>Teléfono</th>
                                    <th>DNI</th>
                                    <th>Contrato</th>
                                    <th>Puesto</th>
                                    <th colspan="2">Acción</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.empleados != null)
                                {
                                    foreach (var item in Model.empleados)
                                    {
                                        <tr>
                                            <td>@Html.DisplayFor(modelItem => item.personas.nombre) @Html.DisplayFor(modelItem => item.personas.apellidos)</td>
                                            <td>@Html.DisplayFor(modelItem => item.personas.email)</td>
                                            <td>@Html.DisplayFor(modelItem => item.personas.telefono)</td>
                                            <td>@Html.DisplayFor(modelItem => item.dni)</td>

                                            @if (item.fecha_fin == null)
                                            {
                                                <td>Indefinido</td>
                                            }
                                            else
                                            {
                                                
                                                <td>@Html.DisplayFor(modelItem => item.fecha_fin)</td>
                                            }

                                                <td>@Html.DisplayFor(modelItem => item.tipo_empleados.descripcion)</td>
                                                <td class="table-botton"><a class="btn btn-warning" href="@Url.Action("Edit", "Empleados", new { id = item.id })"><i class="fa fa-edit"></i></a></td>
                                                <td class="table-botton"><a class="btn btn-primary" href="@Url.Action("Details", "Empleados", new { id = item.id })"><i class="fa fa-user"></i></a></td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="8" class="text-center bg-danger">No se han encontrado resultados.</td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>